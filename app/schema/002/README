This schema change adds tables for the application.

(olass@localhost) [olass]> SHOW TABLES;
+-----------------+
| Tables_in_olass |
+-----------------+
| linkage         |
| partner         |
| rule            |
| version         |
+-----------------+
4 rows in set (0.00 sec)

-- show the list of partners
(olass@localhost) [olass]> SELECT * FROM partner;
+------------+--------------+-----------------------------------+---------------------+
| partner_id | partner_code | partner_description               | partner_added_at    |
+------------+--------------+-----------------------------------+---------------------+
|          1 | UF           | University of Florida             | 2016-03-03 15:55:09 |
|          2 | HCN          | Health Choice Network             | 2016-03-03 15:55:09 |
|          3 | TMH          | Tallahase Memorial HealthCare     | 2016-03-03 15:55:09 |
|          4 | OH           | Orlando Health System             | 2016-03-03 15:55:09 |
|          5 | FH           | Florida Hospital                  | 2016-03-03 15:55:09 |
|          6 | MCH          | Miami Children's Health System    | 2016-03-03 15:55:09 |
|          7 | BOND         | Bond Community Health Center Inc. | 2016-03-03 15:55:09 |
+------------+--------------+-----------------------------------+---------------------+


-- show rules used by the OLASS-client
(olass@localhost) [olass]> SELECT * FROM rule;
+---------+---------------+-------------------------------------------------------------------+---------------------+
| rule_id | rule_code     | rule_description                                                  | rule_added_at       |
+---------+---------------+-------------------------------------------------------------------+---------------------+
|       1 | F-L-D-Z       | First Name + Last Name + DOB + Zip                                | 2016-03-03 16:17:44 |
|       2 | L-F-D-Z       | Last Name + First Name + DOB + Zip                                | 2016-03-03 16:17:44 |
|       3 | F-L-D-C       | First Name + Last Name + DOB + City                               | 2016-03-03 16:17:44 |
|       4 | L-F-D-C       | Last Name + First Name + DOB + City                               | 2016-03-03 16:17:44 |
|       5 | 3F-3L-SF-SL-D | Three Letter FN + Three Letter LN + Soundex FN + Soundex LN + DOB | 2016-03-03 16:17:44 |
+---------+---------------+-------------------------------------------------------------------+---------------------+
5 rows in set (0.00 sec)


-- Find all linkages originating from 'UF'
(olass@localhost) [olass]> SELECT
    linkage_id, partner_code, rule_code, HEX(linkage_uuid), HEX(linkage_hash)
FROM
    linkage
    JOIN partner USING (partner_id)
    JOIN rule USING (rule_id)
WHERE
    partner_code = 'UF'
;
+------------+--------------+-----------+----------------------------------+------------------------------------------------------------------+
| linkage_id | partner_code | rule_code | HEX(linkage_uuid)                | HEX(linkage_hash)                                                |
+------------+--------------+-----------+----------------------------------+------------------------------------------------------------------+
|          1 | UF           | F-L-D-Z   | 11E5E2210F1A5BE2BFBA005056B43375 | 448907DC613E5ADC1B83320223F60C354B47A42CB41316390E6D345A096403D6 |
|          2 | UF           | L-F-D-Z   | 11E5E2210F1CB57CBFBA005056B43375 | 8A8FB351B694324091A9F37C74D1122330696DFE1B12CEDDC2422F80C9D50E6F |
+------------+--------------+-----------+----------------------------------+------------------------------------------------------------------+
2 rows in set (0.00 sec)

-- Find the 'OneFLorida ID' by providing a hash of the patient data
(olass@localhost) [olass]> SELECT HEX(linkage_uuid) FROM linkage WHERE linkage_hash = UNHEX(SHA2('First-Last-DOB-Zip', 256));
+----------------------------------+
| hex(linkage_uuid)                |
+----------------------------------+
| 11E5E2210F1A5BE2BFBA005056B43375 |
+----------------------------------+
